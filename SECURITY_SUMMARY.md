# –†–µ–∑—é–º–µ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ CloudBridge Client

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- **TLS InsecureSkipVerify** - —É–±—Ä–∞–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –∏—Å–ø—Ä–∞–≤–∏–ª–∏ 4 –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤** - –¥–æ–±–∞–≤–∏–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π
- **–û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: 26 ‚Üí 22 (-15%)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: 1 ‚Üí 0 (-100%) ‚úÖ
- **–°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: 20 ‚Üí 18 (-10%)
- **–ù–∏–∑–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: 5 ‚Üí 4 (-20%)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```go
// –ë–´–õ–û (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)
return &tls.Config{
    InsecureSkipVerify: true, // ‚ùå –û—Ç–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
}, nil

// –°–¢–ê–õ–û (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
config := &tls.Config{
    MinVersion: tls.VersionTLS12, // ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è TLS 1.2
}

// –ó–∞–≥—Ä—É–∑–∫–∞ CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
if caFile != "" {
    caCert, err := os.ReadFile(caFile)
    caCertPool := x509.NewCertPool()
    caCertPool.AppendCertsFromPEM(caCert)
    config.RootCAs = caCertPool
}

// –¢–æ–ª—å–∫–æ –¥–ª—è development
if os.Getenv("CLOUDBRIDGE_DEV_MODE") == "true" {
    config.InsecureSkipVerify = true
}
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```go
// –ë–´–õ–û
client.Close() // ‚ùå –û—à–∏–±–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

// –°–¢–ê–õ–û
if err := client.Close(); err != nil {
    log.Printf("Error closing client: %v", err) // ‚úÖ –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
}
```

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI/CD

### GitHub Actions
```yaml
- name: Security audit
  run: |
    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ gosec
    curl -sfL https://raw.githubusercontent.com/securecodewarrior/gosec/master/install.sh | sh -s -- -b $(go env GOPATH)/bin v2.22.5
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    gosec -fmt=json -out=gosec-report.json ./...
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
    if jq '.Issues[] | select(.severity == "HIGH")' gosec-report.json | grep -q .; then
      echo "‚ùå Critical security issues found!"
      exit 1
    fi
```

## üìã –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è production

### TLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```yaml
tls:
  enabled: true
  cert_file: "/etc/cloudbridge-client/certs/client.crt"
  key_file: "/etc/cloudbridge-client/certs/client.key"
  ca_file: "/etc/cloudbridge-client/certs/ca.crt"
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å dev —Ä–µ–∂–∏–º
export CLOUDBRIDGE_DEV_MODE=false
```

## üîç –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø—Ä–æ–±–ª–µ–º—ã

### MEDIUM (18 –ø—Ä–æ–±–ª–µ–º)
- **G204**: Subprocess launched with variable
  - –†–∏—Å–∫: ‚ö†Ô∏è –ù–ò–ó–ö–ò–ô (–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞–º–∏)
  - –§–∞–π–ª—ã: `pkg/service/manager.go`, `pkg/service/service.go`

### LOW (4 –ø—Ä–æ–±–ª–µ–º—ã)
- **G104**: Errors unhandled (–≤ —Ç–µ—Å—Ç–æ–≤–æ–º –∫–æ–¥–µ)
- **G304**: Potential file inclusion via variable
  - –†–∏—Å–∫: ‚ö†Ô∏è –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô (–ø—É—Ç–∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è)

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å TLS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å gosec –≤ CI/CD

### –í —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏
- üîÑ –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üîÑ –£–ª—É—á—à–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- üîÑ –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### –í —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞
- üîÑ –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: üü¢ **–•–û–†–û–®–û**

- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ TLS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —É–ª—É—á—à–µ–Ω–∞
- ‚úÖ CI/CD –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ö–æ–¥ –≥–æ—Ç–æ–≤ –¥–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π TLS. 