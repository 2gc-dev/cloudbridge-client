# Changelog

Все значимые изменения в проекте CloudBridge Client документируются в этом файле.

## [Unreleased] - 2024-01-XX

### Добавлено
- Поддержка подключения к правильным портам relay сервера:
  - **3456/tcp** - Relay Server (основной) для туннелирования
  - **8082/tcp** - Relay API для управления
  - **8080/tcp** - Keycloak для аутентификации
- Обновлена конфигурация для подключения к домену `edge.2gc.ru`
- Улучшенный GitHub Actions workflow для сборки на разных ОС
- Dockerfile для контейнеризации приложения
- Документация по архитектуре подключения

### Изменено
- Обновлен порт подключения к relay серверу с 8082 на 3456
- Изменен хост сервера с localhost на edge.2gc.ru
- Улучшена структура конфигурационных файлов

### Исправлено
- Корректная настройка портов для подключения к relay серверу
- Обновлены тестовые конфигурации

## [1.0.0] - 2024-01-XX

### Добавлено
- Базовая функциональность CloudBridge Client
- Поддержка JWT аутентификации
- Туннелирование TCP соединений
- Метрики Prometheus
- Health checks
- Логирование
- Конфигурация через YAML файлы

### Технические детали

#### Архитектура подключения
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   CloudBridge   │    │   Relay Server  │    │   Remote Host   │
│     Client      │    │   (edge.2gc.ru) │    │   (192.168.x.x) │
│                 │    │                 │    │                 │
│ Local Port      │◄──►│ Port 3456       │◄──►│ Remote Port     │
│ (3389)          │    │ (Tunneling)     │    │ (3389)          │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Keycloak      │    │   Relay API     │    │   Health Check  │
│   (8080/tcp)    │    │   (8082/tcp)    │    │   (9090/tcp)    │
│   Auth          │    │   Management    │    │   Metrics       │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

#### Поддерживаемые платформы
- Linux (AMD64, ARM64)
- Windows (AMD64, ARM64)
- macOS (AMD64, ARM64)

#### GitHub Actions
- Тестирование на Ubuntu, Windows, macOS
- Линтинг и проверка безопасности
- Сборка для всех платформ
- Создание Docker образов
- Автоматические релизы

#### Конфигурация
```yaml
server:
  host: edge.2gc.ru
  port: 3456  # Relay Server (основной)
  jwt_token: "<JWT_TOKEN>"

tls:
  enabled: false  # Для production включить TLS

tunnel:
  local_port: 3389
  reconnect_delay: 5
  max_retries: 3

metrics:
  enabled: true
  port: 9090
  path: "/metrics"
```

## Формат версионирования

Проект использует [Semantic Versioning](http://semver.org/):

- **MAJOR** - несовместимые изменения API
- **MINOR** - новая функциональность с обратной совместимостью
- **PATCH** - исправления ошибок с обратной совместимостью

## Ссылки

- [Документация по архитектуре](docs/ARCHITECTURE.md)
- [Инструкции по сборке](BUILD.md)
- [Руководство пользователя](docs/USER_GUIDE.md)
- [Техническая спецификация](docs/TECHNICAL_SPECIFICATION.md) 